# pr14

## –ú–µ—Ç–∞ —Ä–æ–±–æ—Ç–∏

–†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º—É –º–æ–≤–æ—é C, —è–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î POSIX-—Ç–∞–π–º–µ—Ä–∏ (–Ω–∞ –±–∞–∑—ñ `timer_create`), —ñ –¥–æ–∑–≤–æ–ª—è—î **–¥–∏–Ω–∞–º—ñ—á–Ω–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —ñ–Ω—Ç–µ—Ä–≤–∞–ª —Ç–∞–π–º–µ—Ä–∞ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏**, –±–µ–∑ —ó—ó –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É.

## –¢–µ–æ—Ä–µ—Ç–∏—á–Ω—ñ –≤—ñ–¥–æ–º–æ—Å—Ç—ñ

### POSIX-—Ç–∞–π–º–µ—Ä–∏

–°—É—á–∞—Å–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –≤–∏—Å–æ–∫–æ—Ç–æ—á–Ω–∏—Ö —Ç–∞–π–º–µ—Ä—ñ–≤, –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é:

- –í–∏–∫–ª–∏–∫—É –æ–±—Ä–æ–±–Ω–∏–∫–∞ —Å–∏–≥–Ω–∞–ª—É (`SIGEV_SIGNAL`) –∞–±–æ –ø–æ—Ç–æ–∫—É (`SIGEV_THREAD`)
- –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é –Ω–∞–¥ –ø–µ—Ä—ñ–æ–¥–æ–º —ñ –∑–∞–ª–∏—à–∫–æ–≤–∏–º —á–∞—Å–æ–º
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∏ —ñ–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–∏—Ö —ñ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–∏—Ö —Ç–∞–π–º–µ—Ä—ñ–≤

### –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:

- `timer_create()` ‚Äî —Å—Ç–≤–æ—Ä—é—î —Ç–∞–π–º–µ—Ä
- `timer_settime()` ‚Äî –∑–∞–ø—É—Å–∫–∞—î –∞–±–æ –∑–º—ñ–Ω—é—î —Ç–∞–π–º–µ—Ä
- `timer_gettime()` ‚Äî –æ—Ç—Ä–∏–º—É—î —Å—Ç–∞—Ç—É—Å —Ç–∞–π–º–µ—Ä–∞
- `timer_delete()` ‚Äî –≤–∏–¥–∞–ª—è—î —Ç–∞–π–º–µ—Ä

## –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è

### –ó–º—ñ–Ω–∞ —ñ–Ω—Ç–µ—Ä–≤–∞–ª—É –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

–ú–µ—Ö–∞–Ω—ñ–∑–º —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –æ–∫—Ä–µ–º–æ–≥–æ –ø–æ—Ç–æ–∫—É (`pthread`), —è–∫–∏–π –∑—á–∏—Ç—É—î –Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–≤–∞–ª—É –∑ `stdin` —ñ –æ–Ω–æ–≤–ª—é—î —ñ—Å–Ω—É—é—á–∏–π —Ç–∞–π–º–µ—Ä –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `timer_settime()`.

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Å–∏–≥–Ω–∞–ª `SIGRTMIN` –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ –∑ —ñ–Ω—à–∏–º–∏ —Å–∏–≥–Ω–∞–ª–∞–º–∏.

### [–ö–æ–¥](https://github.com/VladHume/pr14/blob/main/dynamic_timer.c) –ø—Ä–æ–≥—Ä–∞–º–∏

## üíª –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è

```sh
gcc -Wall -o dynamic_timer dynamic_timer.c -lrt -pthread
```

---

## –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

- –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–∏: –∫–æ–∂–Ω—É —Å–µ–∫—É–Ω–¥—É –≤–∏–≤–æ–¥–∏—Ç—å—Å—è `Tick`
- –í–≤–µ–¥–µ–Ω–Ω—è –≤ stdin –Ω–æ–≤–æ–≥–æ —á–∏—Å–ª–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `3`) ‚Äî —ñ–Ω—Ç–µ—Ä–≤–∞–ª –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –Ω–∞ 3 —Å–µ–∫—É–Ω–¥–∏
- –í—Å—ñ –∑–º—ñ–Ω–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –±–µ–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∞–±–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É –ø—Ä–æ–≥—Ä–∞–º–∏

---

## –í–∏—Å–Ω–æ–≤–∫–∏

- –ü—Ä–æ–≥—Ä–∞–º–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –µ—Ñ–µ–∫—Ç–∏–≤–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è POSIX-—Ç–∞–π–º–µ—Ä—ñ–≤ –∑ –¥–∏–Ω–∞–º—ñ—á–Ω–∏–º –∫–µ—Ä—É–≤–∞–Ω–Ω—è–º —ñ–Ω—Ç–µ—Ä–≤–∞–ª–æ–º.
- –ó–∞–±–µ–∑–ø–µ—á–µ–Ω–æ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —Ç–∞–π–º–µ—Ä–Ω–æ–≥–æ –æ–±—Ä–æ–±–Ω–∏–∫–∞ —ñ –ø–æ—Ç–æ–∫—É –≤–≤–æ–¥—É.
